apply plugin: 'war'

dependencies {
    compile project(':ttsd-user-service'),
            project(':ttsd-point-service'),
            project(':ttsd-web-common-config'),
            project(':ttsd-spring-extension'),
            'org.springframework.data:spring-data-redis:1.7.1.RELEASE',
            'org.springframework.session:spring-session:1.2.1.RELEASE'


    providedCompile 'javax.servlet:javax.servlet-api:3.1.0',
            'javax.servlet.jsp:javax.servlet.jsp-api:2.3.1'

}

war {
    archiveName "ttsd-point-web.war"
    destinationDir = file("war")
}

task renameWar {
    doLast {
        file("${project.projectDir.getPath()}/war/ttsd-point-web.war").renameTo(file("${project.projectDir.getPath()}/war/ROOT.war"))
    }
}