define(["jquery","underscore","mustache","jquery.ajax.extension"],function(a,b,c){!function(a){var d='<span class="count">共 {{count}} 条，当前第 {{index}} 页</span><span class="prev {{#hasPrev}}active{{/hasPrev}}">上一页</span><span class="next {{#hasNext}}active{{/hasNext}}">下一页</span>';a.fn.loadPagination=function(e,f){var g=a(this),h="";e.index=e.index||1,e.pageSize=e.pageSize||g.data("page-size"),b.each(e,function(a,b){h+=b+"="+a+"&"}),a.ajax({url:g.data("url")+"?"+h,type:"get",dataType:"json",contentType:"application/json; charset=UTF-8"}).success(function(b){var h=b.data;if(h.status){var i=h.index,j=h.count,k=c.render(d,{count:j,index:i,hasPrev:h.hasPreviousPage,hasNext:h.hasNextPage});g.html(k),h.hasPreviousPage&&a(".pagination .prev").click(function(){e.index=i-1,g.loadPagination(e,f)}),h.hasNextPage&&a(".pagination .next").click(function(){e.index=i+1,g.loadPagination(e,f)}),f(h)}})}}(a)});