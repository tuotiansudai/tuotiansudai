apply plugin: 'java'

dependencies {
    compile fileTree(dir: 'libs', include: '**/*.jar'),
            'org.springframework:spring-core:4.3.1.RELEASE',
            'com.google.guava:guava:21.0',
            'com.squareup.okhttp:okhttp:2.4.0',
            'log4j:log4j:1.2.17'
}

processResources {
    def innerConfigPath = "${project.projectDir.getPath()}/src/main/resources"
    def outerConfigPath = "${configPath}/ttsd-pay-wrapper"

    if (new File(outerConfigPath).isDirectory()) {
        innerConfigPath = outerConfigPath
    }

    from("${innerConfigPath}/SignVerProp.properties") {
        into '/'
    }
}


processResources.outputs.upToDateWhen { false }

distZip {
    archiveName "project-transfer.zip"
}

mainClassName = "com.tuotiansudai.ump.transfer.Main"