require(["jquery","layerWrapper","template","drawCircle","jquery.ajax.extension","commonFun","register_common"],function(a,b,c,d){function e(a){var b=a.find(".user-list"),c=b.find("tr:first").height();b.find("tr").length>5&&b.animate({"margin-top":-c+"px"},600,function(){b.css({"margin-top":"0px"}).find("tr:first").appendTo(b)})}a(window).width()<700&&a(".product-img").each(function(b,c){a(this).find("img").height(a(this).siblings(".product-info").height())});var f=commonFun.browserRedirect();if("mobile"==f){var g=commonFun.parseURL(location.href);"yes"==g.params.tag&&a(".reg-tag-current").show()}var h;a("#rewardList").hover(function(){clearInterval(h)},function(){h=setInterval(function(){e(a("#rewardList"))},1e3)}).trigger("mouseout"),a(".record-list h3 span").on("click",function(b){var c=a(this),d=c.parent("h3").siblings(".record-item"),e=c.index();c.addClass("active").siblings("span").removeClass("active"),d.find(".record-data:eq("+e+")").addClass("active").siblings(".record-data").removeClass("active")});var i=a("div.login-name"),j=i?i.data("login-name"):"";a("a.autumn-luxury-invest-channel").click(function(){a.ajax({url:"/activity/autumn/luxury/invest?loginName="+j,type:"POST"})});var k=a(".pointer-img"),l=a("#MobileNumber"),m="/activity/autumn/luxury-all-list",n="/activity/autumn/luxury-user-list",o="/activity/autumn/luxury-draw",p=l.length?l.data("mobile"):"",d=new d(m,n,o,p);d.GiftRecord(),d.MyGift(n,p),k.on("click",function(b){d.beginLotteryDraw(function(b){if(0==b.returnCode)switch(b.prize){case"PORCELAIN_CUP":d.rotateFn(337,"青花瓷杯子",b.prizeType);break;case"INTEREST_COUPON_2":d.rotateFn(56,"0.2%加息券",b.prizeType);break;case"LUXURY":d.rotateFn(116,"奢侈品大奖",b.prizeType);break;case"RED_ENVELOPE_100":d.rotateFn(160,"100元现金红包",b.prizeType);break;case"INTEREST_COUPON_5":d.rotateFn(230,"0.5%加息券",b.prizeType);break;case"RED_ENVELOPE_50":d.rotateFn(300,"50元现金红包",b.prizeType)}else 2==b.returnCode?a("#tipList").html(c("tipListTpl",{tiptext:b.message,istype:"nologin"})).show().find(".tip-dom").show():3==b.returnCode?a("#tipList").html(c("tipListTpl",{tiptext:b.message,istype:"timeout"})).show().find(".tip-dom").show():a("#tipList").html(c("tipListTpl",{tiptext:b.message,istype:"notimes"})).show().find(".tip-dom").show()})})});