require(["jquery","drawCircle","logintip","register_common"],function(a,b){a(function(){var c=globalFun.browserRedirect(),d=a("#newYearDayFrame"),e=a("#newYearSlide"),f={};d.find(".tip-list").each(function(b,c){var d=a(c).data("return");f[d]=c}),function(){var b,c=a(".slide-text",d),e=c.find("li").eq(0).height();c.hover(function(){clearInterval(b)},function(){b=setInterval(function(){var a=c.find(".slide-text-list");a.animate({"margin-top":-e+"px"},2e3,function(){a.css({"margin-top":"0px"}).find("li:first").appendTo(a)})},500)}).trigger("mouseout")}(),function(){if("pc"==c){var a='<div class="body-decorate" id="bodyDecorate"> <div class="bg-left"></div> <div class="bg-right"></div> </div>';d.prepend(a),e.addClass("pc-img")}else{e.html("<img src="+staticServer+"/activity/images/christmas-day/app-top.jpg>");var b=globalFun.parseURL(location.href);"yes"==b.params.tag&&d.find(".reg-tag-current").show()}}(),function(b){var c=a(".reward-gift-box",d),e=a("#rewardTaskStatus"),g=a(".reward-list-frame",d),h=a("#MobileNumber"),i="/activity/point-draw/all-list",j="/activity/point-draw/user-list",k="/activity/point-draw/task-draw",l=a(".gold-egg",c),m=h.length?h.data("mobile"):"",n=c.find(".my-times").data("times"),o={mobile:m,activityCategory:"ANNUAL_ACTIVITY"};g.find(".reward-box").each(function(b,c){var d=e.val().split(",");1==d[b]&&a(c).addClass("finished")}),b.prototype.signToday=function(b,c){var d=a("#signToday");d.on("click",function(){a.ajax({url:"/point/sign-in",type:"POST",dataType:"json"}).done(function(a){b&&b(a)}).fail(function(){c&&c()})})};var b=new b(i,j,k,o,c);b.signToday(function(){b.tipWindowPop(f.signOk)},function(){b.tipWindowPop(f.signNo)}),b.GiftRecord(),b.MyGift(),l.on("click",function(){l.hasClass("win-result")||(l.addClass("win-result"),setTimeout(function(){b.beginLuckDraw(function(e){if(l.removeClass("win-result"),c.find(".my-times").text(--n),0==e.returnCode){var g=e.prizeType.toLowerCase();a(f[g]).find(".prizeValue").text(e.prizeValue),b.noRotateFn(f[g])}else 1==e.returnCode?b.tipWindowPop(f.nochance):2==e.returnCode?a(".no-login-text",d).trigger("click"):3==e.returnCode?b.tipWindowPop(f.expired):4==e.returnCode&&b.tipWindowPop(f.authentication)})},1500))}),b.PrizeSwitch()}(b)})});