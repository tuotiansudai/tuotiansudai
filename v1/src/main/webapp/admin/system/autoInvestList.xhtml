<ui:composition template="/admin/templates/ui.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:composite="http://java.sun.com/jsf/composite/primefaces"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:sec="http://www.springframework.org/security/facelets/tags">

    <ui:define name="content">
    	<div class="entry">
    	<p:toolbar>
            <p:toolbarGroup>
	            <h:outputLabel style="padding-left: 15px;" value="#{commonMsg.currentPositionLabel}自动投标排名"></h:outputLabel>
            </p:toolbarGroup>
        </p:toolbar>
        <h:form id="form"> 

                
                
            
            <p:spacer></p:spacer> 
          
            <p:dataTable lazy="true" id="dataTable" value="#{autoInvestList.lazyModel}" var="ai" 
                paginator="true" paginatorPosition="bottom" rows="100" currentPageReportTemplate="#{commonMsg.pageReportTemplate}"
                paginatorTemplate="#{commonMsg.paginatorTemplate}" rowIndexVar="index"
                emptyMessage="#{commonMsg.noResultMsg}">
                <p:column>
                	<f:facet name="header">
                		<h:outputText value="排名"></h:outputText>
                	</f:facet>
                    <h:outputText  value="#{index+1}"></h:outputText>
                </p:column>
                <p:column>
                	<f:facet name="header">
                		<h:outputText value="用户名"></h:outputText>
                	</f:facet>
                    <h:outputText  value="#{ai.userId}"></h:outputText>
                </p:column>
                <p:column>
                	<f:facet name="header">
                		<h:outputText value="每次投标金额"></h:outputText>
                	</f:facet>
                    <h:outputText  value="#{ai.investMoney}"></h:outputText>
                </p:column>
                <p:column>
                	<f:facet name="header">
                		<h:outputText value="最后一次投资时间"></h:outputText>
                	</f:facet>
                    <h:outputText  value="#{ai.lastAutoInvestTime}"></h:outputText>
                </p:column>
                <p:column>
                	<f:facet name="header">
                		<h:outputText value="序号"></h:outputText>
                	</f:facet>
                    <h:outputText  value="#{ai.seqNum}"></h:outputText>
                </p:column>
                <p:column>
                	<f:facet name="header">
                		<h:outputText value="投资周期"></h:outputText>
                	</f:facet>
                    <h:outputText value="#{ai.minDeadline}个月  ~ #{ai.maxDeadline}个月"></h:outputText>
                </p:column>
                <p:column>
                	<f:facet name="header">
                		<h:outputText value="利息范围"></h:outputText>
                	</f:facet>
                    <h:outputText  value="#{ai.minRate*100}">
                    	<f:convertNumber maxFractionDigits="2"/>
                    </h:outputText>% ~ 
                    <h:outputText  value="#{ai.maxRate*100}">
                    	<f:convertNumber maxFractionDigits="2"/>
                    </h:outputText>%
                </p:column>
                <p:column style="text-align:right;">
                	<f:facet name="header" >
                		<h:outputText value="账户保留余额"></h:outputText>
                	</f:facet>
                    <h:outputText  value="#{ai.remainMoney}"></h:outputText>
                </p:column>

				<f:facet name="footer">
					<p:commandButton value="导出Excel" ajax="false">
						<p:dataExporter target="dataTable" type="xls" fileName="autoInvest" pageOnly="false"></p:dataExporter>
					</p:commandButton>
				</f:facet>
            </p:dataTable>
        </h:form>
       </div>
    </ui:define>
</ui:composition>
