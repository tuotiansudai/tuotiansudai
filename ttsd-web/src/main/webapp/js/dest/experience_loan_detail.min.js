require(["jquery", "jquery.ajax.extension", "coupon-alert", "red-envelope-float", "jquery.form"], function (a) {
    var b = a(".loan-detail-content").data("loan-progress");
    50 >= b ? (a(".chart-box .rount").css("webkitTransform", "rotate(" + 3.6 * b + "deg)"), a(".chart-box .rount2").hide()) : (a(".chart-box .rount").css("webkitTransform", "rotate(180deg)"), a(".chart-box .rount2").show(), a(".chart-box .rount2").css("webkitTransform", "rotate(" + 3.6 * (b - 50) + "deg)")), a.ajax({
        url: "/calculate-expected-coupon-interest/loan/1/amount/0",
        data: a.param([{name: "couponIds", value: a("input[name='userCouponIds']").data("coupon-id")}]),
        type: "get",
        dataType: "json",
        contentType: "application/json; charset=UTF-8"
    }).done(function (b) {
        a(".principal-income").text(b)
    }), a("#investSubmit").on("click", function (b) {
        var c = a(this);
        return a("#investForm").ajaxSubmit({
            dataType: "json",
            url: "/experience-invest",
            beforeSubmit: function (a, b, d) {
                c.addClass("loading")
            },
            success: function (b, d, e, f) {
                var g = b.data;
                g.status && a("#freeSuccess").show(), c.removeClass("loading")
            }
        }), !1
    }), a(".close-free").on("click", function (b) {
        b.preventDefault(), a("#freeSuccess").hide(), window.location.reload()
    })
});