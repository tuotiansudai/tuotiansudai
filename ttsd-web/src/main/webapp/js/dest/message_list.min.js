require(["jquery","mustache","text!/tpl/message-list.mustache","pagination","layerWrapper","jquery.ajax.extension"],function(a,b,c,d,e){a(function(){var d=a(".pagination"),e=d.data("page-index"),f=window.location.hash;f&&(e=f.substr(1,f.length)),d.loadPagination({index:e},function(d){window.location.hash=d.index;var e=b.render(c,d);a(".list-container .global-message-list.active").html(e),a(".read-all-messages").click(function(){a.ajax({url:"/message/read-all",type:"POST",dataType:"json",contentType:"application/json; charset=UTF-8"}).done(function(a){a.data.status&&window.location.reload()})})})})});