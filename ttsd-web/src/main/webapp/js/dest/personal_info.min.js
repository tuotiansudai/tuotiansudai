require(["jquery","layer","jquery.validate"],function(a,b){a(function(){var c=a("#personInfoBox"),d=a(".setEmail",c),e=a(".setPass",c),f=(a("#btnChangeEmail"),a("#changeEmailDOM")),g=a("form",f),h=(a("#btnChangePass"),a("#changePassDOM")),i=a("form",h);d.on("click",function(){b.open({type:1,title:"绑定邮箱",area:["500px","230px"],shadeClose:!0,content:f})}),g.validate({rules:{email:{required:!0,email:!0}},messages:{email:"请输入有效的邮箱地址"},submitHandler:function(){b.closeAll(),b.open({type:1,title:"验证邮箱",area:["500px","220px"],shadeClose:!0,content:a("#CESuccess"),btn:["返回"],yes:function(a,c){b.close(a),console.log("000")}})}}),e.on("click",function(){b.open({type:1,title:"重置密码",area:["600px","360px"],shadeClose:!0,content:h})}),i.validate({rules:{oldPassword:{required:!0},newPassword:{required:!0,rangelength:[5,15]},newPassword2:{required:!0,rangelength:[5,15],equalTo:"#newPassword"}},messages:{oldPassword:{required:"请输入密码"},newPassword:{required:"请输入新密码",rangelength:a.validator.format("请输入 {0} 到 {1}的字符长度")},newPassword2:{required:"请输入确认密码",equalTo:"两次输入密码不一致，请重新输入",rangelength:a.validator.format("请输入 {0} 到 {1}的字符长度")}},submitHandler:function(a){console.log("ppp")}})})});