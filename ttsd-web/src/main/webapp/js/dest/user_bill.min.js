require(["jquery","mustache","text!/tpl/user-bill-table.mustache","moment","pagination","daterangepicker","csrf"],function(a,b,c,d,e){var f=d().format("YYYY-MM-DD"),g=d().subtract(1,"week").format("YYYY-MM-DD"),h=d().subtract(1,"month").format("YYYY-MM-DD"),i=d().subtract(6,"month").format("YYYY-MM-DD"),j=a("#date-picker"),k=a(".pagination");j.dateRangePicker({separator:" ~ "}).val(f+"~"+f);var l=function(){var b=a(".date-filter .select-item.current").data("day");switch(b){case 1:j.val(f+"~"+f);break;case 7:j.val(g+"~"+f);break;case 30:j.val(h+"~"+f);break;case 180:j.val(i+"~"+f);break;default:j.val("")}},m=function(d){var e=j.val().split("~"),f=a.trim(e[0])||"",g=a.trim(e[1])||"",h=a(".status-filter .select-item.current").data("status").split(","),i={startTime:f,endTime:g,status:h,index:d||1};k.loadPagination(i,function(d){var e=b.render(c,d);a(".user-bill-list").html(e)})};a(".date-filter .select-item").click(function(){a(this).addClass("current").siblings(".select-item").removeClass("current"),l(),m()}),a(".date-filter .select-item").eq(2).trigger("click"),a(".status-filter .select-item").click(function(){a(this).addClass("current").siblings(".select-item").removeClass("current"),m()}),a(".apply-btn").click(function(){m(),a(".date-filter .select-item").removeClass("current")}),m()});