var commonFun={};Array.prototype.contains=function(a){for(var b=this.length;b--;)if(this[b]===a)return!0;return!1},commonFun={compile:function(a,b){for(var b=b+"",c=a.split(""),d=(b.length,0);d<11;d++)c[2*d+2]=b[d]?b[d]:"a";return c.join("")},uncompile:function(a){for(var a=a+"",b=a.split(""),c=[],d=0;d<11;d++)c[d]=b[2*d+2];var e=c.join(""),f=e.match(/\d/gi);return f.join("")},initRadio:function(a,b){var c=a.length;c&&a.each(function(a,c){var d=$(this);d.is(":checked")&&d.next("label").addClass("checked"),d.next("label").click(function(){var a=$(this);/checked/.test(this.className)||(b.removeClass("checked"),a.addClass("checked"))})})},browserRedirect:function(){var a=navigator.userAgent.toLowerCase(),b="ipad"==a.match(/ipad/i),c="iphone os"==a.match(/iphone os/i),d="midp"==a.match(/midp/i),e="rv:1.2.3.4"==a.match(/rv:1.2.3.4/i),f="ucweb"==a.match(/ucweb/i),g="android"==a.match(/android/i),h="windows ce"==a.match(/windows ce/i),i="windows mobile"==a.match(/windows mobile/i);return b||c||d||e||f||g||h||i?"mobile":"pc"},loadCss:function(a){var b=document.createElement("link");b.type="text/css",b.rel="stylesheet",b.href=a,document.getElementsByTagName("head")[0].appendChild(b)},parseURL:function(a){var b=document.createElement("a");return b.href=a,{source:a,protocol:b.protocol.replace(":",""),host:b.hostname,port:b.port,query:b.search,params:function(){for(var a,c={},d=b.search.replace(/^\?/,"").split("&"),e=d.length,f=0;f<e;f++)d[f]&&(a=d[f].split("="),c[a[0]]=a[1]);return c}(),file:(b.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:b.hash.replace("#",""),path:b.pathname.replace(/^([^\/])/,"/$1"),relative:(b.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:b.pathname.replace(/^\//,"").split("/")}},popWindow:function(a,b,c){if($(".popWindow").length)$(".ecope-overlay,.popWindow").show();else{var d=[];d.push('<div class="popWindow">'),d.push('<div class="ecope-overlay"></div>'),d.push('<div class="ecope-dialog">'),d.push('<div class="dg_wrapper">'),d.push('<div class="hd"><h3>'+a+' <em class="close" ></em></h3></div>'),d.push('<div class="bd">sss</div>'),d.push("</div></div></div>"),$("body").append(d.join(""));var e=$(".ecope-dialog"),c=$.extend({width:"560px"},c);e.css({width:c.width});var f=function(){var a=document.body.scrollTop||document.documentElement.scrollTop,c=$(window).height()-e.height(),d=$(window).width()-e.width();e.css({top:c/2+a,left:d/2}),e.find(".bd").empty().append(b)};f(),$(window).resize(function(){f()});document.all?"mousewheel":"DOMMouseScroll";$(window).bind("mousewheel",function(){f()})}e.delegate(".close","click",function(){$(".ecope-overlay,.popWindow").hide()})},IdentityCodeValid:function(a){var b={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "},c=!0;if(a&&/\d{17}[\d|x]/i.test(a))if(b[a.substr(0,2)]){if(18==a.length){a=a.split("");for(var d=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],e=[1,0,"X",9,8,7,6,5,4,3,2],f=0,g=0,h=0,i=0;i<17;i++)g=a[i],h=d[i],f+=g*h;e[f%11]!=a[17]&&(c=!1)}}else c=!1;else c=!1;return c}};var MyChartsObject={ChartConfig:function(a,b){this.Colors=["#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a","#6f2fd8","#531750","#2f7ed8","#0d233a","#8bbc21","#d7c332","#9a7400","#5ace1a","#910044","#ffb81c","#e5e65b","#d12270","#6ad0f0","#3337e2","#770808","#df6237","#07799e","#f5b688","#004b91","#c340e3","#4b9cad","#cc4800","#ff91c2","#00913d","#145207","#2f5bfc","#e34063","#b794f1","#4900c2","#f09797","#66892a","#5d68f8","#c577e5"],require.config({paths:{echarts:"/js/libs/echarts/dist"}});var c="defalut";return require(["echarts/theme/macarons"],function(a){c=a}),this.option={chart:{},option:b,container:a},this.option},ChartDataFormate:{FormateNOGroupData:function(a){for(var b=[],c=[],d=0;d<a.length;d++)b.push(a[d].name||""),c.push({name:a[d].name,value:a[d].value||0});return{category:b,data:c}},FormateBarGroupData:function(a){return{title:a.title,sub:a.sub,name:a.name,month:a.month,money:a.money}},FormateGroupData:function(a,b,c){var d="line";b&&(d=b||"line");for(var e=[],f=[],g=[],h=0;h<a.length;h++){for(var i=0;i<e.length&&e[i]!=a[h].name;i++);i==e.length&&e.push(a[h].name);for(var j=0;j<f.length&&f[j]!=a[h].group;j++);j==f.length&&f.push(a[h].group)}for(var h=0;h<f.length;h++){for(var k=[],i=0;i<a.length;i++)f[h]==a[i].group&&("map"==b?k.push({name:a[i].name,value:a[h].value}):k.push(a[i].value));switch(b){case"bar":var l={name:f[h],data:k,type:d};c&&(l=$.extend({},{stack:"stack"},l));break;case"map":var l={name:f[h],type:d,mapType:"china",selectedMode:"single",itemStyle:{normal:{label:{show:!0}},emphasis:{label:{show:!0}}},data:k};break;case"line":var l={name:f[h],data:k,type:d};c&&(l=$.extend({},{stack:"stack"},l));break;default:var l={name:f[h],data:k,type:d}}g.push(l)}return{category:f,xAxis:e,series:g}}},ChartOptionTemplates:{CommonOption:{tooltip:{trigger:"axis"},toolbox:{show:!0,feature:{mark:!0,dataView:{readOnly:!1},restore:!0,saveAsImage:!0}}},CommonLineOption:{tooltip:{trigger:"axis"},toolbox:{show:!0,feature:{dataView:{readOnly:!1},restore:!0,saveAsImage:!0,magicType:["line","bar"]}}},Pie:function(a,b){var c=MyChartsObject.ChartDataFormate.FormateNOGroupData(a),d={legend:{orient:"vertical",x:"left",y:"center",data:c.category},tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)",show:!0},series:[{name:b||"",type:"pie",radius:["50%","95%"],center:["70%","48%"],itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}},emphasis:{label:{show:!1,position:"center",textStyle:{fontSize:"11",fontWeight:"normal"}}}},data:c.data}]};return $.extend({},MyChartsObject.ChartOptionTemplates.CommonOption,d)},Bar:function(a,b){var c=MyChartsObject.ChartDataFormate.FormateBarGroupData(a),d={backgroundColor:"#f7f7f7",color:["#ff9c1b"],title:{text:c.title,subtext:c.sub,textStyle:{color:"#ff9c1b"}},tooltip:{trigger:"axis"},legend:{data:[c.name],selectedMode:!1},toolbox:{show:!1,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!1,xAxis:[{type:"category",data:c.month}],yAxis:[{type:"value"}],series:[{name:"交易额",type:"bar",data:c.money,tooltip:{formatter:"时间:{b}<br/>交易额:{c}"}}]};return $.extend({},MyChartsObject.ChartOptionTemplates.CommonOption,d)}},Charts:{RenderChart:function(a){require(["echarts","echarts/chart/pie","echarts/chart/bar"],function(b){var c=b;a.chart&&a.chart.dispose&&a.chart.dispose(),a.chart=c.init(a.container),a.chart.setOption(a.option,!0),window.onresize=a.chart.resize})}}};