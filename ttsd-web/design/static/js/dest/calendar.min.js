require.config({baseUrl:"../js",paths:{jquery:"libs/jquery-1.10.1.min",daterangepicker:"libs/jquery.daterangepicker",mustache:"libs/mustache.min",text:"libs/text"}}),require(["jquery","mustache","text!../tpl/dealtable.tpl","daterangepicker"],function(a,b,c){function d(){var b=a("#daterangepicker").val().split("~");b[0],b[1],a(".rec_type").find(".active").attr("data-value")}function e(d,e,f,g){a(".query_type strong").css("opacity","1");var h="";if(0!=g&&(h="&type="+g),""==d||"undefined"==d)var i="/static/jsons/table.json?page="+f+h;else var i="/static/jsons/table.json?startday="+d+"&endday="+e+"&page="+f+h;a.get(i,function(d){if("success"===d.status){a(".query_type strong").css("display","none");var e=b.render(c,d.data);a(".result").html(e)}})}a("#daterangepicker").dateRangePicker({separator:" ~ "}).val(oYear+"-"+oMonth+"-"+oToday+"~"+(oYear+"-"+parseInt(oMonth+1)+"-"+oToday)).bind("datepicker-apply",d),d();var f=d();e(f[0],f[1],1,f[2]),a(".start_end span").click(function(){a(this).addClass("active").siblings("span").removeClass("active"),a(".rec_type li").eq(0).addClass("active").siblings("li").removeClass("active"),f=d(),e(f[0],f[1],1,f[2])}),a(".rec_type li").click(function(){a(this).addClass("active").siblings("li").removeClass("active"),f=d(),e(f[0],f[1],1,f[2])})});